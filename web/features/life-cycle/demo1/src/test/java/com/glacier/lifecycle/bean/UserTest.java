package com.glacier.lifecycle.bean;

import jakarta.annotation.Resource;
import org.junit.jupiter.api.AfterEach;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;
import org.springframework.boot.test.context.SpringBootTest;

/**
 * date 2024-01-16 16:11
 * bean 生命周期
 * com.glacier.lifecycle.bean.User          : User 构造函数 调用
 * com.glacier.lifecycle.bean.User          : User 依赖注入，参数：com.glacier.lifecycle.bean.Demo1Service@3aaa3c39
 * com.glacier.lifecycle.bean.User          : User setName 函数调用，参数：glacier
 * com.glacier.lifecycle.bean.User          : BeanNameAware setBeanName 函数调用，参数：user
 * com.glacier.lifecycle.bean.User          : BeanFactoryAware setBeanFactory 函数调用，参数：org.springframework.beans.factory.support.DefaultListableBeanFactory@4632cfc: defining beans [org.springframework.boot.test.mock.mockito.MockitoPostProcessor$SpyPostProcessor,org.springframework.boot.test.mock.mockito.MockitoPostProcessor,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.event.internalEventListenerProcessor,org.springframework.context.event.internalEventListenerFactory,lifeCycleDemo1Application,org.springframework.boot.autoconfigure.internalCachingMetadataReaderFactory,demo1Service,myBeanPostProcessor,user,org.springframework.boot.autoconfigure.AutoConfigurationPackages,org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration,propertySourcesPlaceholderConfigurer,org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration,fileWatcher,sslPropertiesSslBundleRegistrar,sslBundleRegistry,org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor,org.springframework.boot.context.internalConfigurationPropertiesBinder,org.springframework.boot.context.properties.BoundConfigurationProperties,org.springframework.boot.context.properties.EnableConfigurationPropertiesRegistrar.methodValidationExcludeFilter,spring.ssl-org.springframework.boot.autoconfigure.ssl.SslProperties,org.springframework.boot.autoconfigure.websocket.servlet.WebSocketServletAutoConfiguration$TomcatWebSocketConfiguration,websocketServletWebServerCustomizer,org.springframework.boot.autoconfigure.websocket.servlet.WebSocketServletAutoConfiguration,org.springframework.boot.autoconfigure.web.servlet.ServletWebServerFactoryConfiguration$EmbeddedTomcat,tomcatServletWebServerFactory,org.springframework.boot.autoconfigure.web.servlet.ServletWebServerFactoryAutoConfiguration,servletWebServerFactoryCustomizer,tomcatServletWebServerFactoryCustomizer,server-org.springframework.boot.autoconfigure.web.ServerProperties,webServerFactoryCustomizerBeanPostProcessor,errorPageRegistrarBeanPostProcessor,org.springframework.boot.autoconfigure.web.servlet.DispatcherServletAutoConfiguration$DispatcherServletConfiguration,dispatcherServlet,spring.mvc-org.springframework.boot.autoconfigure.web.servlet.WebMvcProperties,org.springframework.boot.autoconfigure.web.servlet.DispatcherServletAutoConfiguration$DispatcherServletRegistrationConfiguration,dispatcherServletRegistration,org.springframework.boot.autoconfigure.web.servlet.DispatcherServletAutoConfiguration,org.springframework.boot.autoconfigure.task.TaskExecutorConfigurations$ThreadPoolTaskExecutorBuilderConfiguration,threadPoolTaskExecutorBuilder,org.springframework.boot.autoconfigure.task.TaskExecutorConfigurations$TaskExecutorBuilderConfiguration,taskExecutorBuilder,org.springframework.boot.autoconfigure.task.TaskExecutorConfigurations$SimpleAsyncTaskExecutorBuilderConfiguration,simpleAsyncTaskExecutorBuilder,org.springframework.boot.autoconfigure.task.TaskExecutorConfigurations$TaskExecutorConfiguration,applicationTaskExecutor,org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration,spring.task.execution-org.springframework.boot.autoconfigure.task.TaskExecutionProperties,org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration$WhitelabelErrorViewConfiguration,error,beanNameViewResolver,org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration$DefaultErrorViewResolverConfiguration,conventionErrorViewResolver,spring.web-org.springframework.boot.autoconfigure.web.WebProperties,org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration,errorAttributes,basicErrorController,errorPageCustomizer,preserveErrorControllerTargetClassPostProcessor,org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration,welcomePageHandlerMapping,welcomePageNotAcceptableHandlerMapping,localeResolver,themeResolver,flashMapManager,mvcConversionService,mvcValidator,mvcContentNegotiationManager,requestMappingHandlerMapping,mvcPatternParser,mvcUrlPathHelper,mvcPathMatcher,viewControllerHandlerMapping,beanNameHandlerMapping,routerFunctionMapping,resourceHandlerMapping,mvcResourceUrlProvider,defaultServletHandlerMapping,requestMappingHandlerAdapter,handlerFunctionAdapter,mvcUriComponentsContributor,httpRequestHandlerAdapter,simpleControllerHandlerAdapter,handlerExceptionResolver,mvcViewResolver,mvcHandlerMappingIntrospector,viewNameTranslator,org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter,defaultViewResolver,viewResolver,requestContextFilter,org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration,formContentFilter,org.springframework.boot.autoconfigure.availability.ApplicationAvailabilityAutoConfiguration,applicationAvailability,org.springframework.boot.actuate.autoconfigure.availability.AvailabilityHealthContributorAutoConfiguration,org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration,standardJacksonObjectMapperBuilderCustomizer,spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties,org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration,jacksonObjectMapperBuilder,org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration,parameterNamesModule,org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration,jacksonObjectMapper,org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonMixinConfiguration,jsonMixinModuleEntries,jsonMixinModule,org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration,jsonComponentModule,org.springframework.boot.actuate.autoconfigure.web.servlet.ServletManagementContextAutoConfiguration,servletWebChildContextFactory,managementServletContext,org.springframework.boot.actuate.autoconfigure.health.HealthEndpointConfiguration,healthStatusAggregator,healthHttpCodeStatusMapper,healthEndpointGroups,healthContributorRegistry,healthEndpointGroupMembershipValidator,healthEndpoint,healthEndpointGroupsBeanPostProcessor,org.springframework.boot.actuate.autoconfigure.health.HealthEndpointWebExtensionConfiguration$MvcAdditionalHealthEndpointPathsConfiguration,healthEndpointWebMvcHandlerMapping,org.springframework.boot.actuate.autoconfigure.health.HealthEndpointWebExtensionConfiguration,healthEndpointWebExtension,org.springframework.boot.actuate.autoconfigure.health.HealthEndpointAutoConfiguration,management.endpoint.health-org.springframework.boot.actuate.autoconfigure.health.HealthEndpointProperties,org.springframework.boot.autoconfigure.info.ProjectInfoAutoConfiguration,spring.info-org.springframework.boot.autoconfigure.info.ProjectInfoProperties,org.springframework.boot.actuate.autoconfigure.info.InfoContributorAutoConfiguration,management.info-org.springframework.boot.actuate.autoconfigure.info.InfoContributorProperties,org.springframework.boot.actuate.autoconfigure.endpoint.EndpointAutoConfiguration,endpointOperationParameterMapper,endpointCachingOperationInvokerAdvisor,org.springframework.boot.actuate.autoconfigure.endpoint.jackson.JacksonEndpointAutoConfiguration,endpointObjectMapper,org.springframework.boot.actuate.autoconfigure.endpoint.web.WebEndpointAutoConfiguration$WebEndpointServletConfiguration,servletEndpointDiscoverer,org.springframework.boot.actuate.autoconfigure.endpoint.web.WebEndpointAutoConfiguration,webEndpointPathMapper,endpointMediaTypes,webEndpointDiscoverer,controllerEndpointDiscoverer,pathMappedEndpoints,webExposeExcludePropertyEndpointFilter,controllerExposeExcludePropertyEndpointFilter,management.endpoints.web-org.springframework.boot.actuate.autoconfigure.endpoint.web.WebEndpointProperties,org.springframework.boot.actuate.autoconfigure.system.DiskSpaceHealthContributorAutoConfiguration,diskSpaceHealthIndicator,management.health.diskspace-org.springframework.boot.actuate.autoconfigure.system.DiskSpaceHealthIndicatorProperties,org.springframework.boot.actuate.autoconfigure.health.HealthContributorAutoConfiguration,pingHealthContributor,org.springframework.boot.actuate.autoconfigure.metrics.MetricsAutoConfiguration,micrometerClock,meterRegistryPostProcessor,propertiesMeterFilter,meterRegistryCloser,management.metrics-org.springframework.boot.actuate.autoconfigure.metrics.MetricsProperties,org.springframework.boot.actuate.autoconfigure.metrics.export.simple.SimpleMetricsExportAutoConfiguration,simpleMeterRegistry,simpleConfig,management.simple.metrics.export-org.springframework.boot.actuate.autoconfigure.metrics.export.simple.SimpleProperties,org.springframework.boot.actuate.autoconfigure.metrics.CompositeMeterRegistryAutoConfiguration,org.springframework.boot.actuate.autoconfigure.metrics.JvmMetricsAutoConfiguration,jvmGcMetrics,jvmHeapPressureMetrics,jvmMemoryMetrics,jvmThreadMetrics,classLoaderMetrics,jvmInfoMetrics,jvmCompilationMetrics,org.springframework.boot.actuate.autoconfigure.metrics.LogbackMetricsAutoConfiguration,logbackMetrics,org.springframework.boot.actuate.autoconfigure.metrics.SystemMetricsAutoConfiguration,uptimeMetrics,processorMetrics,fileDescriptorMetrics,diskSpaceMetrics,org.springframework.boot.actuate.autoconfigure.metrics.integration.IntegrationMetricsAutoConfiguration,org.springframework.boot.actuate.autoconfigure.metrics.startup.StartupTimeMetricsListenerAutoConfiguration,startupTimeMetrics,org.springframework.boot.autoconfigure.task.TaskSchedulingConfigurations$ThreadPoolTaskSchedulerBuilderConfiguration,threadPoolTaskSchedulerBuilder,org.springframework.boot.autoconfigure.task.TaskSchedulingConfigurations$TaskSchedulerBuilderConfiguration,taskSchedulerBuilder,org.springframework.boot.autoconfigure.task.TaskSchedulingConfigurations$SimpleAsyncTaskSchedulerBuilderConfiguration,simpleAsyncTaskSchedulerBuilder,org.springframework.boot.autoconfigure.task.TaskSchedulingAutoConfiguration,spring.task.scheduling-org.springframework.boot.autoconfigure.task.TaskSchedulingProperties,org.springframework.boot.actuate.autoconfigure.metrics.task.TaskExecutorMetricsAutoConfiguration,eagerTaskExecutorMetrics,org.springframework.boot.actuate.autoconfigure.metrics.web.tomcat.TomcatMetricsAutoConfiguration,tomcatMetricsBinder,org.springframework.boot.actuate.autoconfigure.observation.ObservationAutoConfiguration$MeterObservationHandlerConfiguration$OnlyMetricsMeterObservationHandlerConfiguration,defaultMeterObservationHandler,org.springframework.boot.actuate.autoconfigure.observation.ObservationAutoConfiguration$MeterObservationHandlerConfiguration,org.springframework.boot.actuate.autoconfigure.observation.ObservationAutoConfiguration$OnlyMetricsConfiguration,metricsObservationHandlerGrouping,org.springframework.boot.actuate.autoconfigure.observation.ObservationAutoConfiguration,observationRegistryPostProcessor,observationRegistry,propertiesObservationFilter,management.observations-org.springframework.boot.actuate.autoconfigure.observation.ObservationProperties,org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration,stringHttpMessageConverter,org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration,mappingJackson2HttpMessageConverter,org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration,org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration,messageConverters,org.springframework.boot.autoconfigure.web.client.RestTemplateAutoConfiguration,restTemplateBuilderConfigurer,restTemplateBuilder,org.springframework.boot.autoconfigure.web.client.RestClientAutoConfiguration,httpMessageConvertersRestClientCustomizer,restClientSsl,restClientBuilderConfigurer,restClientBuilder,org.springframework.boot.actuate.autoconfigure.observation.web.client.HttpClientObservationsAutoConfiguration$MeterFilterConfiguration,metricsHttpClientUriTagFilter,org.springframework.boot.actuate.autoconfigure.observation.web.client.RestTemplateObservationConfiguration,observationRestTemplateCustomizer,org.springframework.boot.actuate.autoconfigure.observation.web.client.RestClientObservationConfiguration,observationRestClientCustomizer,org.springframework.boot.actuate.autoconfigure.observation.web.client.HttpClientObservationsAutoConfiguration,org.springframework.boot.actuate.autoconfigure.observation.web.servlet.WebMvcObservationAutoConfiguration$MeterFilterConfiguration,metricsHttpServerUriTagFilter,org.springframework.boot.actuate.autoconfigure.observation.web.servlet.WebMvcObservationAutoConfiguration,webMvcObservationFilter,org.springframework.boot.actuate.autoconfigure.scheduling.ScheduledTasksObservabilityAutoConfiguration,observabilitySchedulingConfigurer,org.springframework.boot.autoconfigure.aop.AopAutoConfiguration$ClassProxyingConfiguration,forceAutoProxyCreatorToUseClassProxying,org.springframework.boot.autoconfigure.aop.AopAutoConfiguration,org.springframework.boot.autoconfigure.context.ConfigurationPropertiesAutoConfiguration,org.springframework.boot.autoconfigure.context.LifecycleAutoConfiguration,lifecycleProcessor,spring.lifecycle-org.springframework.boot.autoconfigure.context.LifecycleProperties,org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration,spring.sql.init-org.springframework.boot.autoconfigure.sql.init.SqlInitializationProperties,org.springframework.boot.sql.init.dependency.DatabaseInitializationDependencyConfigurer$DependsOnDatabaseInitializationPostProcessor,org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration,characterEncodingFilter,localeCharsetMappingsCustomizer,org.springframework.boot.autoconfigure.web.servlet.MultipartAutoConfiguration,multipartConfigElement,multipartResolver,spring.servlet.multipart-org.springframework.boot.autoconfigure.web.servlet.MultipartProperties,org.springframework.boot.actuate.autoconfigure.endpoint.web.ServletEndpointManagementContextConfiguration$WebMvcServletEndpointManagementContextConfiguration,servletEndpointRegistrar,org.springframework.boot.actuate.autoconfigure.endpoint.web.ServletEndpointManagementContextConfiguration,servletExposeExcludePropertyEndpointFilter,org.springframework.boot.actuate.autoconfigure.endpoint.web.servlet.WebMvcEndpointManagementContextConfiguration,webEndpointServletHandlerMapping,controllerEndpointHandlerMapping,endpointObjectMapperWebMvcConfigurer,management.endpoints.web.cors-org.springframework.boot.actuate.autoconfigure.endpoint.web.CorsEndpointProperties,org.springframework.boot.actuate.autoconfigure.web.server.ManagementContextAutoConfiguration$SameManagementContextConfiguration$EnableSameManagementContextConfiguration,org.springframework.boot.actuate.autoconfigure.web.server.ManagementContextAutoConfiguration$SameManagementContextConfiguration,org.springframework.boot.actuate.autoconfigure.web.server.ManagementContextAutoConfiguration,management.server-org.springframework.boot.actuate.autoconfigure.web.server.ManagementServerProperties,org.springframework.aop.config.internalAutoProxyCreator]; root of factory hierarchy
 * com.glacier.lifecycle.bean.User          : ApplicationContextAware setApplicationContext 函数调用，参数：org.springframework.web.context.support.GenericWebApplicationContext@4d6f197e, started on Tue Jan 16 16:19:25 CST 2024
 * c.g.lifecycle.bean.MyBeanPostProcessor   : 初始化前：com.glacier.lifecycle.bean.User@7e351d7，beanName：user
 * com.glacier.lifecycle.bean.User          : InitializingBean afterPropertiesSet afterPropertiesSet 函数调用
 * c.g.lifecycle.bean.MyBeanPostProcessor   : 初始化后：com.glacier.lifecycle.bean.User@7e351d7，beanName：user
 *
 * @author glacier
 * @version 1.0
 */
@SpringBootTest
class UserTest {

    @Resource
    private User user;

    @BeforeEach
    void setUp() {
    }

    @AfterEach
    void tearDown() {
    }

    @Test
    void getName() {
        System.out.println(user.getName());
    }
}
